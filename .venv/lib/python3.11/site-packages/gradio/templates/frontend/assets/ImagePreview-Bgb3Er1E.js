import{I as N}from"./Index-DyMt_EUv.js";import{u as Q}from"./Blocks-D7wgXFF4.js";import{B as R}from"./BlockLabel-sOHKYzXO.js";import{E as U}from"./Empty-B9RiKw9w.js";import{S as W}from"./ShareButton-D_4kXhND.js";import{D as X}from"./Download-DVtk-Jv3.js";import{M as Y,a as Z}from"./Minimize-X5PPawdt.js";import{I as K}from"./Image-Bsh8Umrh.js";import{g as y}from"./utils-Gtzs_Zla.js";import{I as x}from"./Image-j5KaaAAA.js";import{D as ee}from"./DownloadLink-Br7w9arv.js";import"./index-NyBnvGBo.js";/* empty css                                                   */import"./Button-BuDwGXBe.js";import"./file-url-CNpoASbJ.js";import"./svelte/svelte.js";const{SvelteComponent:te,append:j,attr:F,binding_callbacks:ne,bubble:q,check_outros:z,create_component:p,destroy_component:v,detach:C,element:L,empty:le,flush:D,group_outros:B,init:oe,insert:H,listen:se,mount_component:I,safe_not_equal:re,space:M,toggle_class:P,transition_in:c,transition_out:b}=window.__gradio__svelte__internal,{createEventDispatcher:ie,onMount:ae}=window.__gradio__svelte__internal;function ue(l){let e,n,t,o,s,k,$,h,d,r,g,E,a=!l[8]&&l[7]&&T(l),f=l[8]&&l[7]&&A(l),_=l[3]&&G(l),m=l[5]&&J(l);return d=new x({props:{src:l[0].url,alt:"",loading:"lazy"}}),d.$on("load",l[15]),{c(){e=L("div"),n=L("div"),a&&a.c(),t=M(),f&&f.c(),o=M(),_&&_.c(),s=M(),m&&m.c(),k=M(),$=L("button"),h=L("div"),p(d.$$.fragment),F(n,"class","icon-buttons svelte-14j7vhs"),F(h,"class","svelte-14j7vhs"),P(h,"selectable",l[4]),F($,"class","svelte-14j7vhs"),F(e,"class","image-container svelte-14j7vhs")},m(u,w){H(u,e,w),j(e,n),a&&a.m(n,null),j(n,t),f&&f.m(n,null),j(n,o),_&&_.m(n,null),j(n,s),m&&m.m(n,null),j(e,k),j(e,$),j($,h),I(d,h,null),l[16](e),r=!0,g||(E=se($,"click",l[10]),g=!0)},p(u,w){!u[8]&&u[7]?a?(a.p(u,w),w&384&&c(a,1)):(a=T(u),a.c(),c(a,1),a.m(n,t)):a&&(B(),b(a,1,1,()=>{a=null}),z()),u[8]&&u[7]?f?(f.p(u,w),w&384&&c(f,1)):(f=A(u),f.c(),c(f,1),f.m(n,o)):f&&(B(),b(f,1,1,()=>{f=null}),z()),u[3]?_?(_.p(u,w),w&8&&c(_,1)):(_=G(u),_.c(),c(_,1),_.m(n,s)):_&&(B(),b(_,1,1,()=>{_=null}),z()),u[5]?m?(m.p(u,w),w&32&&c(m,1)):(m=J(u),m.c(),c(m,1),m.m(n,null)):m&&(B(),b(m,1,1,()=>{m=null}),z());const V={};w&1&&(V.src=u[0].url),d.$set(V),(!r||w&16)&&P(h,"selectable",u[4])},i(u){r||(c(a),c(f),c(_),c(m),c(d.$$.fragment,u),r=!0)},o(u){b(a),b(f),b(_),b(m),b(d.$$.fragment,u),r=!1},d(u){u&&C(e),a&&a.d(),f&&f.d(),_&&_.d(),m&&m.d(),v(d),l[16](null),g=!1,E()}}}function fe(l){let e,n;return e=new U({props:{unpadded_box:!0,size:"large",$$slots:{default:[_e]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment)},m(t,o){I(e,t,o),n=!0},p(t,o){const s={};o&262144&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function T(l){let e,n;return e=new N({props:{Icon:Y,label:l[8]?"Exit full screen":"View in full screen"}}),e.$on("click",l[11]),{c(){p(e.$$.fragment)},m(t,o){I(e,t,o),n=!0},p(t,o){const s={};o&256&&(s.label=t[8]?"Exit full screen":"View in full screen"),e.$set(s)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function A(l){let e,n;return e=new N({props:{Icon:Z,label:l[8]?"Exit full screen":"View in full screen"}}),e.$on("click",l[11]),{c(){p(e.$$.fragment)},m(t,o){I(e,t,o),n=!0},p(t,o){const s={};o&256&&(s.label=t[8]?"Exit full screen":"View in full screen"),e.$set(s)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function G(l){let e,n;return e=new ee({props:{href:l[0].url,download:l[0].orig_name||"image",$$slots:{default:[ce]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment)},m(t,o){I(e,t,o),n=!0},p(t,o){const s={};o&1&&(s.href=t[0].url),o&1&&(s.download=t[0].orig_name||"image"),o&262208&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function ce(l){let e,n;return e=new N({props:{Icon:X,label:l[6]("common.download")}}),{c(){p(e.$$.fragment)},m(t,o){I(e,t,o),n=!0},p(t,o){const s={};o&64&&(s.label=t[6]("common.download")),e.$set(s)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function J(l){let e,n;return e=new W({props:{i18n:l[6],formatter:l[12],value:l[0]}}),e.$on("share",l[13]),e.$on("error",l[14]),{c(){p(e.$$.fragment)},m(t,o){I(e,t,o),n=!0},p(t,o){const s={};o&64&&(s.i18n=t[6]),o&1&&(s.value=t[0]),e.$set(s)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function _e(l){let e,n;return e=new K({}),{c(){p(e.$$.fragment)},m(t,o){I(e,t,o),n=!0},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function me(l){let e,n,t,o,s,k;e=new R({props:{show_label:l[2],Icon:K,label:l[2]?l[1]||l[6]("image.image"):""}});const $=[fe,ue],h=[];function d(r,g){return r[0]===null||!r[0].url?0:1}return t=d(l),o=h[t]=$[t](l),{c(){p(e.$$.fragment),n=M(),o.c(),s=le()},m(r,g){I(e,r,g),H(r,n,g),h[t].m(r,g),H(r,s,g),k=!0},p(r,[g]){const E={};g&4&&(E.show_label=r[2]),g&70&&(E.label=r[2]?r[1]||r[6]("image.image"):""),e.$set(E);let a=t;t=d(r),t===a?h[t].p(r,g):(B(),b(h[a],1,1,()=>{h[a]=null}),z(),o=h[t],o?o.p(r,g):(o=h[t]=$[t](r),o.c()),c(o,1),o.m(s.parentNode,s))},i(r){k||(c(e.$$.fragment,r),c(o),k=!0)},o(r){b(e.$$.fragment,r),b(o),k=!1},d(r){r&&(C(n),C(s)),v(e,r),h[t].d(r)}}}function be(l,e,n){let{value:t}=e,{label:o=void 0}=e,{show_label:s}=e,{show_download_button:k=!0}=e,{selectable:$=!1}=e,{show_share_button:h=!1}=e,{i18n:d}=e,{show_fullscreen_button:r=!0}=e;const g=ie(),E=i=>{let S=y(i);S&&g("select",{index:S,value:null})};let a=!1,f;ae(()=>{document.addEventListener("fullscreenchange",()=>{n(8,a=!!document.fullscreenElement)})});const _=async()=>{a?(await document.exitFullscreen(),n(8,a=!a)):await f.requestFullscreen()},m=async i=>i?`<img src="${await Q(i)}" />`:"";function u(i){q.call(this,l,i)}function w(i){q.call(this,l,i)}function V(i){q.call(this,l,i)}function O(i){ne[i?"unshift":"push"](()=>{f=i,n(9,f)})}return l.$$set=i=>{"value"in i&&n(0,t=i.value),"label"in i&&n(1,o=i.label),"show_label"in i&&n(2,s=i.show_label),"show_download_button"in i&&n(3,k=i.show_download_button),"selectable"in i&&n(4,$=i.selectable),"show_share_button"in i&&n(5,h=i.show_share_button),"i18n"in i&&n(6,d=i.i18n),"show_fullscreen_button"in i&&n(7,r=i.show_fullscreen_button)},[t,o,s,k,$,h,d,r,a,f,E,_,m,u,w,V,O]}class Fe extends te{constructor(e){super(),oe(this,e,be,me,re,{value:0,label:1,show_label:2,show_download_button:3,selectable:4,show_share_button:5,i18n:6,show_fullscreen_button:7})}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),D()}get label(){return this.$$.ctx[1]}set label(e){this.$$set({label:e}),D()}get show_label(){return this.$$.ctx[2]}set show_label(e){this.$$set({show_label:e}),D()}get show_download_button(){return this.$$.ctx[3]}set show_download_button(e){this.$$set({show_download_button:e}),D()}get selectable(){return this.$$.ctx[4]}set selectable(e){this.$$set({selectable:e}),D()}get show_share_button(){return this.$$.ctx[5]}set show_share_button(e){this.$$set({show_share_button:e}),D()}get i18n(){return this.$$.ctx[6]}set i18n(e){this.$$set({i18n:e}),D()}get show_fullscreen_button(){return this.$$.ctx[7]}set show_fullscreen_button(e){this.$$set({show_fullscreen_button:e}),D()}}export{Fe as default};
//# sourceMappingURL=ImagePreview-Bgb3Er1E.js.map
